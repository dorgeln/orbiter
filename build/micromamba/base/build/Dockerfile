#syntax=docker/dockerfile:1.2
#generated by micromamba_builder

FROM dorgeln/orbiter:micromamba-core-0.0.21
LABEL maintainer="Andreas Trawoeger <atrawog@dorgeln.org>"

USER jovyan
WORKDIR ${ENV_ROOT}
COPY conda.yml conda.yml
RUN --mount=type=cache,id=mamba-pkgs,target=/env/mamba/pkgs,uid=1000,gid=100 \
    ${MAMBA_EXE} install -y -n base -f conda.yml
RUN  jupyter serverextension enable --sys-prefix nbgitpuller && jupyter serverextension enable --sys-prefix jupyter_server_proxy && jupyter lab clean  -y
CMD ["jupyter", "lab", "--ip", "0.0.0.0","--no-browser","--NotebookApp.token=''","--NotebookApp.password=''"]
EXPOSE 8888


